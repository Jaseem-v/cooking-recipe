(this["webpackJsonpcooking-ninja"]=this["webpackJsonpcooking-ninja"]||[]).push([[0],{18:function(e,t,c){},19:function(e,t,c){},21:function(e,t,c){},23:function(e,t,c){},25:function(e,t,c){},26:function(e,t,c){},27:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),s=c(11),r=c.n(s),i=(c(18),c(19),c(20),c(5)),o=c(2),l=(c(21),c(1));function j(e){var t=e.data,c=e.isPending,n=e.error;return Object(l.jsxs)(l.Fragment,{children:[c&&Object(l.jsx)("h1",{children:"Loading..."}),n&&Object(l.jsx)("h1",{children:"Error"}),Object(l.jsxs)("div",{className:"recipe__single",children:[Object(l.jsx)("h1",{className:"recipe__title",children:t.title}),Object(l.jsxs)("h4",{className:"recipe__time",children:[t.cookingTime," to cook"]}),Object(l.jsxs)("p",{className:"recipe__description",children:[t.method.substring(0,100),"..."]}),Object(l.jsx)(i.b,{to:"/recipe/".concat(t.id),children:"More Details"})]})]})}c(23);var b=c(9),d=c.n(b),u=c(10),O=c(12),h=c(3),p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",c=Object(n.useState)(null),a=Object(h.a)(c,2),s=a[0],r=a[1],i=Object(n.useState)(!1),o=Object(h.a)(i,2),l=o[0],j=o[1],b=Object(n.useState)(null),p=Object(h.a)(b,2),m=p[0],x=p[1],g=Object(n.useState)(""),_=Object(h.a)(g,2),v=_[0],f=_[1],N=function(e){f({method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}),console.log("updated")};return Object(n.useEffect)((function(){var c=new AbortController,n=function(){var t=Object(O.a)(d.a.mark((function t(n){var a,s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return j(!0),t.prev=1,t.next=4,fetch(e,Object(u.a)(Object(u.a)({},n),{},{signal:c.signal}));case 4:if((a=t.sent).ok){t.next=7;break}throw new Error(a.statusText);case 7:return t.next=9,a.json();case 9:s=t.sent,j(!1),r(s),x(null),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(1),"AbortError"===t.t0.name?console.log("the fetch was aborted"):(j(!1),x("Could not fetch the data"));case 18:case"end":return t.stop()}}),t,null,[[1,15]])})));return function(e){return t.apply(this,arguments)}}();return"GET"===t&&n(),"POST"===t&&v&&n(v),function(){c.abort()}}),[e,v,t]),{data:s,isPending:l,error:m,postData:N}};function m(){var e=p("https://my-json-server.typicode.com/Jaseem-v/cooking-recipe-db/recipes"),t=e.data,c=e.isPending,n=e.error;return Object(l.jsx)("div",{className:"recipe__grid",children:t&&t.map((function(e){return Object(l.jsx)(j,{data:e,isPending:c,error:n},e.id)}))})}function x(){var e=Object(o.g)().id,t=p("https://my-json-server.typicode.com/Jaseem-v/cooking-recipe-db/recipes/"+e),c=t.data,n=t.isPending,a=t.error;return Object(l.jsxs)("div",{children:[n&&Object(l.jsx)("h1",{children:"Loading..."}),a&&Object(l.jsx)("h1",{children:"Error"}),c&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("h1",{className:"recipe__title",children:c.title}),Object(l.jsxs)("h4",{className:"recipe__time",children:[c.cookingTime," to cook"]}),Object(l.jsx)("p",{className:"recipe__description",children:c.method}),Object(l.jsx)("h3",{children:c.ingredients.map((function(e){return e}))})]})]})}var g=c(13);c(25);function _(){var e=Object(n.useState)(""),t=Object(h.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(""),r=Object(h.a)(s,2),i=r[0],j=r[1],b=Object(n.useState)(""),d=Object(h.a)(b,2),u=d[0],O=d[1],m=Object(n.useState)(""),x=Object(h.a)(m,2),_=x[0],v=x[1],f=Object(n.useState)([]),N=Object(h.a)(f,2),k=N[0],y=N[1],S=(Object(o.f)(),p("https://my-json-server.typicode.com/Jaseem-v/cooking-recipe-db/recipes","POST").postData);return Object(l.jsx)("div",{children:Object(l.jsxs)("form",{onSubmit:function(e){e.preventDefault(),console.log(i,c,u),S({title:c,method:u,cookingTime:i+"minutes",ingredients:k}),a(""),j(""),O("")},children:[Object(l.jsxs)("label",{className:"create__label",children:[Object(l.jsx)("span",{className:"create__title",children:"Title"}),Object(l.jsx)("input",{type:"text",className:"create__input",value:c,onChange:function(e){return a(e.target.value)},required:!0})]}),Object(l.jsxs)("label",{className:"create__label",children:[Object(l.jsx)("span",{className:"create__title",children:"cooking Time"}),Object(l.jsx)("input",{type:"number",className:"create__input",value:i,onChange:function(e){return j(e.target.value)},required:!0})]}),Object(l.jsxs)("label",{className:"create__label",children:[Object(l.jsx)("span",{className:"create__title",children:"Ingredients"}),Object(l.jsxs)("div",{className:"create__ingredients",children:[Object(l.jsx)("input",{type:"text",className:"create__input",value:_,onChange:function(e){return v(e.target.value)}}),Object(l.jsx)("button",{className:"btn btn-secondary",onClick:function(e){e.preventDefault(),k.includes(_)||y((function(e){return[].concat(Object(g.a)(e),[_])})),v("")},children:" add "})]}),Object(l.jsxs)("span",{style:{marginTop:"10px",color:"gray",display:"block"},children:["ingredients : ",k.map((function(e,t,c){return e+"".concat(c[c.length-1]==e?" . ":" , ")})),"  "]})]}),Object(l.jsxs)("label",{className:"create__label",children:[Object(l.jsx)("span",{className:"create__title",children:"Method"}),Object(l.jsx)("textarea",{className:"create__input",value:u,onChange:function(e){return O(e.target.value)}})]}),Object(l.jsx)("button",{type:"submit",className:"btn btn-submit",children:"submit"})]})})}c(26);function v(){return Object(l.jsx)("div",{className:"nav",children:Object(l.jsx)("div",{className:"container",children:Object(l.jsxs)("div",{className:"nav__content",children:[Object(l.jsx)(i.b,{to:"/",className:"nav__logo",children:"Cooking-ninja"}),Object(l.jsx)(i.b,{to:"/create",className:"nav__link btn btn-success",children:"create"})]})})})}var f=function(){return Object(l.jsx)("div",{className:"App",children:Object(l.jsxs)(i.a,{children:[Object(l.jsx)(v,{}),Object(l.jsx)("div",{className:"container",children:Object(l.jsxs)(o.c,{children:[Object(l.jsx)(o.a,{exact:!0,path:"/",element:Object(l.jsx)(m,{})}),Object(l.jsx)(o.a,{path:"/recipe/:id",element:Object(l.jsx)(x,{})}),Object(l.jsx)(o.a,{path:"/create",element:Object(l.jsx)(_,{})})]})})]})})};r.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(f,{})}),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.39df94fb.chunk.js.map